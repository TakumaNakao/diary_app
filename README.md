# Diary App

個人的な日記を管理・記録するためのWebアプリケーションです。日々の出来事や思考を記録し、タグで分類・検索することができます。

## ✨ 主な機能

### 📝 日記の作成・編集
- カレンダーから日付を選択して日記を作成
- **強化されたMarkdownエディタ**による豊かな表現
  - リアルタイムプレビュー機能
  - **数式サポート**（KaTeX）
  - **シンタックスハイライト**（コードブロック）
  - GitHub Flavored Markdown対応
- 1日に複数のエントリーを記録可能
- **エントリー間の内部リンク機能**
  - 他のエントリーへのリンクを簡単に挿入
  - リンクをクリックして関連エントリーに移動

### 📌 ピン留め機能
- 重要なエントリーをピン留めして素早くアクセス
- ピン留めしたエントリーの一覧表示
- ワンクリックでピン留めのオン/オフを切り替え

### 📋 テンプレート機能
- よく使う日記のフォーマットをテンプレートとして保存
- テンプレートから新しいエントリーを素早く作成
- テンプレートの作成・編集・削除
- テンプレート一覧から選択して適用

### 🏷️ タグ管理
- 階層構造のタグシステム
- 親タグと子タグの関係性
- タグごとの色分け（5段階の濃淡調整可能）
- 子タグは親タグの色を自動継承
- タグごとのエントリー一覧表示

### 🔍 検索機能
- **Fuse.jsによるファジー検索**（あいまい検索）
- 全文検索（タイトル・本文）
- タグによる絞り込み
- 日付範囲指定
- 複数条件の組み合わせ検索
- 検索結果から直接エントリーへアクセス

### 📅 カレンダービュー
- 月間カレンダー表示
- エントリーがある日を視覚的に確認
- 日付をクリックして直接その日の日記にアクセス

### 🌙 ダークモード
- ライト/ダークモードの切り替え
- 目に優しい配色
- ユーザーの好みに合わせたテーマ選択

### 💾 データ保存
- ブラウザのlocalStorageに安全に保存
- サーバー不要でオフラインでも動作
- すべてのデータ（エントリー、タグ、テンプレート）をローカルで管理

## 🚀 デプロイ

このアプリケーションは**GitHub Pages**にデプロイされています。

### 自動デプロイ
- `main`ブランチへのプッシュで自動的にGitHub Pagesにデプロイ
- GitHub Actionsによる自動ビルド・デプロイ

### 手動デプロイ
GitHub Actionsの「Deploy to GitHub Pages」ワークフローを手動で実行することもできます。

## 🛠️ 技術スタック

- **フロントエンド**: React 19
- **ルーティング**: React Router v7
- **スタイリング**: CSS（カスタムプロパティ使用）
- **Markdownエディター**: 
  - `react-markdown`: Markdown レンダリング
  - `remark-gfm`: GitHub Flavored Markdown
  - `remark-math` & `rehype-katex`: 数式サポート
  - `react-syntax-highlighter`: シンタックスハイライト
- **アイコン**: Lucide React
- **検索**: Fuse.js（ファジー検索）
- **ユニークID生成**: uuid
- **ビルドツール**: Vite
- **ストレージ**: LocalStorage API
- **デプロイ**: GitHub Pages & GitHub Actions

## 📦 セットアップ

### 必要な環境
- Node.js 16.0以上
- npm または yarn

### インストール

1. リポジトリをクローン
```bash
git clone <repository-url>
cd diary_app
```

2. 依存パッケージをインストール
```bash
npm install
```

## 🏃 起動方法

### 開発サーバーの起動
```bash
npm run dev
```

ブラウザで `http://localhost:5173` を開くとアプリケーションが表示されます。

### プロダクションビルド
```bash
npm run build
```

ビルドされたファイルは `dist` ディレクトリに出力されます。

### プレビュー
```bash
npm run preview
```

ビルドされたアプリケーションをローカルでプレビューできます。

## 📖 使い方

### 1. 日記を作成する
1. カレンダーから日付を選択
2. 「+ New Entry」ボタンをクリック
3. タイトルと本文を入力（Markdown記法が使えます）
4. 必要に応じてタグを追加
5. テンプレートを使う場合は、テンプレート一覧から選択
6. 「Save」ボタンで保存

### 2. タグを管理する
1. サイドバーの「Manage Tags」をクリック
2. 「New Root Tag」で新しいタグを作成
3. タグの色と濃淡を選択
4. 子タグを作成する場合は、親タグの「Add Child」をクリック

### 3. 日記を検索する
1. サイドバーの「Search」をクリック
2. キーワード、タグ、日付範囲を指定
3. 「検索」ボタンをクリック
4. 検索結果から気になるエントリーをクリック

### 4. テンプレートを使う
1. サイドバーの「Templates」をクリック
2. 「+ New Template」で新しいテンプレートを作成
3. エントリー作成時にテンプレート一覧からテンプレートを選択して適用

### 5. エントリーをピン留めする
1. エントリー編集画面でピンアイコンをクリック
2. サイドバーの「Pinned」からピン留めしたエントリー一覧にアクセス

## 📁 プロジェクト構成

```
diary_app/
├── .github/
│   └── workflows/
│       └── deploy.yml       # GitHub Actions デプロイ設定
├── src/
│   ├── components/          # Reactコンポーネント
│   │   ├── Calendar/        # カレンダービュー
│   │   ├── DailyLog/        # 日次ログ表示
│   │   ├── Editor/          # Markdownエディター
│   │   ├── EnhancedMarkdown/ # 拡張Markdownレンダラー
│   │   ├── EntryList/       # エントリーリスト
│   │   ├── Layout/          # レイアウト・ナビゲーション
│   │   ├── PinnedEntries/   # ピン留めエントリー
│   │   ├── Search/          # 検索機能
│   │   ├── TagManager/      # タグ管理
│   │   └── Templates/       # テンプレート機能
│   ├── context/             # React Context
│   │   ├── DiaryContext.jsx # 日記データ状態管理
│   │   ├── ThemeContext.jsx # テーマ（ダークモード）管理
│   │   └── TemplateContext.jsx # テンプレート管理
│   ├── utils/               # ユーティリティ
│   │   ├── color.js         # 色関連の処理
│   │   └── storage.js       # LocalStorage操作
│   ├── App.jsx              # アプリケーションルート
│   ├── main.jsx             # エントリーポイント
│   └── index.css            # グローバルスタイル
├── public/                  # 静的ファイル
├── index.html               # HTMLテンプレート
├── vite.config.js           # Vite設定
└── package.json             # パッケージ情報
```

## 💡 データの保存場所

すべてのデータはブラウザのlocalStorageに保存されます：
- **エントリーデータ**: キー `diary_data`
- **テーマ設定**: キー `diary_theme`

データをバックアップする場合は、開発者ツールからlocalStorageの内容をエクスポートしてください。

## 📝 ライセンス

MIT License

## 🔮 今後の追加予定機能

- [ ] 画像添付機能
- [ ] データのエクスポート/インポート機能（JSON/Markdown形式）
- [ ] PWA化（オフライン対応・インストール可能）
- [ ] 統計・振り返り機能（月次レポート、タグ統計など）
- [ ] 感情トラッキング機能
- [ ] エントリーの並び替え・フィルタリング機能の拡張
- [ ] データ同期機能（クラウドストレージ連携）
